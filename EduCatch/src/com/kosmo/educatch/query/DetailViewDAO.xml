<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kosmo.educatch.dao.DetailViewMapper">


	
	<select id="DetailViewList" parameterType="String" resultType="subjectview">
		
		SELECT
			    A.SNO,
			    A.SNAME,
			    A.SDAY,
			    A.STIME,
			    A.SPEOPLE,
			    A.SPRICE,
			    A.ACADEMY_ANO,
			    A.SDELETEYN,
			    TO_CHAR(A.SINSERTDATE,'YYYY-MM-DD') AS SINSERTDATE, 
			    TO_CHAR(A.SUPDATEDATE,'YYYY-MM-DD') AS SUPDATEDATE,
			    B.ANO,
			    B.ANAME,
			    B.ATEL,
			    B.AXPOINT,
			    B.AYPOINT,
			    B.AADDRNO,
			    B.AADDR1,
			    B.AADDR2,
			    B.ALOGO,
			    B.CATEGORY_CNO,
			    B.ADELETEYN,
			    TO_CHAR(B.AINSERTDATE,'YYYY-MM-DD') AS AINSERTDATE, 
			    TO_CHAR(B.AUPDATEDATE,'YYYY-MM-DD') AS AUPDATEDATE
		FROM 
				SUBJECT A , ACADEMY B
		WHERE A.ACADEMY_ANO = B.ANO
		AND A.SDELETEYN = 'N'
		AND B.ADELETEYN = 'N'
		AND ANO= 'A00001'
		ORDER BY 1 DESC
	</select>
	
	<select id="conViewList" parameterType="String" resultType="convenience">
		
		SELECT
			    A.ACADEMY_ANO,
                A.ACPARKING,
                A.ACSTORE,
                A.ACBUS,
                A.ACELEVATOR,
                A.ACSTUDYROOM,
                A.ACLOUNGE,
                A.ACLOCKER,
                B.ANO
		FROM 
				ACADEMY_CONVENIENCE A , ACADEMY B
		WHERE A.ACADEMY_ANO = B.ANO
		AND ANO='A00001'
		ORDER BY 1 DESC
	</select>
	
	
	<select id="gradeSelect" parameterType="String" resultType="academyview">
		SELECT
            AVG(A.RBGRADE) AS RBGRADE
        FROM 
            REVIEWBOARD A, ACADEMY B
        WHERE
            A.ACADEMY_ANO = B.ANO
            AND B.ANO = 'A00001'
        GROUP BY B.ANO
	</select>
	
</mapper>
