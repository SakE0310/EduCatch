<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kosmo.educatch.dao.ManageMapper">

	<select id="getAcaAccept" parameterType="member" resultType="member">
		SELECT
				MNO, 
				MID, 
				ANO, 
				ANAME, 
				ATEL, 
				MIMG, 
				TO_CHAR(MINSERTDATE,'YYYY-MM-DD') AS MINSERTDATE
		FROM
				(SELECT * FROM MEMBER A, ACADEMY B WHERE A.ACADEMY_ANO = B.ANO)
		WHERE MAUTH = 2
		AND MPERMISSION = 'N'
	</select>
	
	<update id="setAcceptAcaMem" parameterType="member">
		UPDATE 
				MEMBER
		SET 
				MPERMISSION = 'Y'
		WHERE
				MNO = #{mno}
	</update>
	
	<delete id="delAcaMem" parameterType="member">
		DELETE FROM
				MEMBER
		WHERE
				MNO = #{mno}
	</delete>
</mapper>
